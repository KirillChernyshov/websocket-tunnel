# üöÄ WebSocket Tunnel - Quick Setup

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:
- [x] TypeScript –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–ª–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- [x] WebSocket —Å–µ—Ä–≤–µ—Ä –∏ –∫–ª–∏–µ–Ω—Ç
- [x] HTTP Proxy —Å–∏—Å—Ç–µ–º–∞
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- [x] Heartbeat –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [x] –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

## üîß –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é
npm run type-check

# 3. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# –í –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (–≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
npm run dev:test-server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –¢—É–Ω–Ω–µ–ª—å —Å–µ—Ä–≤–µ—Ä (—Ä–∞–±–æ—á–∏–π —Å–µ—Ä–≤–µ—Ä)  
npm run dev:server

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: –¢—É–Ω–Ω–µ–ª—å –∫–ª–∏–µ–Ω—Ç (–≤–∞—à –ü–ö)
npm run dev:client

# –¢–µ—Ä–º–∏–Ω–∞–ª 4: –¢–µ—Å—Ç—ã
curl http://localhost:3000/api/test
curl -X POST http://localhost:3000/api/echo -H "Content-Type: application/json" -d '{"test":true}'
```

## üåê –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:

### –ù–∞ —Ä–∞–±–æ—á–µ–º —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone <your-repo>
cd websocket-tunnel

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env:
PORT=3000
WS_PORT=3001

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
npm install --production
npm run build
npm run start:server
```

### –ù–∞ –≤–∞—à–µ–º –ü–ö:
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env:
SERVER_WS_URL=ws://your-work-server.com:3001
LOCAL_TARGET=http://localhost:8080
CLIENT_ID=my-pc-client

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm run build
npm run start:client
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- `http://work-server:3000/health` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `http://work-server:3000/status` - –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
- –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å —ç–º–æ–¥–∑–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
npm run test:integration

# –†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
curl http://localhost:3000/api/test
curl http://localhost:3000/health
curl http://localhost:3000/status
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°–µ—Ä–≤–µ—Ä | –ö–ª–∏–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|--------|----------|
| PORT | 3000 | - | HTTP –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| WS_PORT | 3001 | - | WebSocket –ø–æ—Ä—Ç |
| SERVER_WS_URL | - | ws://server:3001 | –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ |
| LOCAL_TARGET | - | http://localhost:8080 | –õ–æ–∫–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
| CLIENT_ID | - | unique-id | ID –∫–ª–∏–µ–Ω—Ç–∞ |

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
[–î—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä] 
    ‚Üì HTTP –∑–∞–ø—Ä–æ—Å
[–†–∞–±–æ—á–∏–π —Å–µ—Ä–≤–µ—Ä:3000] 
    ‚Üì WebSocket
[–í–∞—à –ü–ö (–∫–ª–∏–µ–Ω—Ç)] 
    ‚Üì HTTP –∑–∞–ø—Ä–æ—Å  
[–õ–æ–∫–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:8080]
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:
- –î–æ–±–∞–≤–∏—Ç—å HTTPS/WSS –ø–æ–¥–¥–µ—Ä–∂–∫—É
- –£–ª—É—á—à–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å PM2/systemd
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã
